---
title: "centos6.5搭建LAMP"
date: 2016-05-12 19:14:00 +0800
excerpt: "centos6.5搭建apache+mysql+php环境centos6.5搭建apache+mysql+php环境centos6.5搭建apache+mysql+php环境..."
categories: ["Linux"]
tags: ["Linux"]
cover: /upload/546951.jpg
permalink: /archives/1750302550522
---
centos6.5搭建apache+mysql+php环境centos6.5搭建apache+mysql+php环境centos6.5搭建apache+mysql+php环境...

一、安装 MySQL
```
[root@zkyml ~]# yum -y install mysql mysql-server
```
安装完毕，让 MySQL 能够随系统自动启动：
```
[root@zkyml ~]# chkconfig mysqld on
[root@zkyml ~]# /etc/init.d/mysqld start
```
等价于 `service mysqld start`

设置 MySQL 数据 root 账户的密码：
```
[root@zkyml ~]# mysql_secure_installation

当出现如下提示时候直接按回车：

Enter current password for root

出现如下再次回车：

Set root password? [Y/n]

出现如下提示输入你需要设置的密码，回车后在输入一次确认：

New password:

接下来还会有四个确认，分别是：

Remove anonymous users? [Y/n]

Disallow root login remotely? [Y/n]

Remove test database and access to it? [Y/n]

Reload privilege tables now? [Y/n]

直接回车即可。
```
yum安装的mysql版本为5.1.7，默认latin字符，需要修改为utf-8。添加default-character-set=utf8，如下
```
[root@zkyml ~]# vi /etc/my.cnf

[mysqld]

datadir=/var/lib/mysql

socket=/var/lib/mysql/mysql.sock

user=mysql

# Disabling symbolic-links is recommended to prevent assorted security risks

symbolic-links=0

default-character-set=utf8

[mysqld_safe]

log-error=/var/log/mysqld.log

pid-file=/var/run/mysqld/mysqld.pid

[mysql]

default-character-set=utf8
```
二、安装 Apache(httpd) 组件
```
[root@zkyml ~]# yum -y install httpd
```
同样配置系统让 Apache 随系统启动：
```
[root@zkyml ~]# chkconfig httpd on
```
配置完毕，启动 Apache：
```
[root@zkyml ~]# /etc/init.d/httpd start
```
等价于 `service httpd start`

此时内网访问能够看到 “Apache 2 Test Page powered by CentOS” 的测试页面。

如果其他机器访问这台服务无法显示这个页面，而直接在这台服务器上可以访问的话，一般情况下是 CentOS 自带的防火墙禁止了。你只需要进入防火墙，将对应的 “80” 端口打开即可。iptables开放端口设置请参考系统文档。

在 CentOS 中 Apache 的服务名为httpd，默认根目录是 /var/www/html，配置文件 /etc/httpd/conf/httpd.conf。其他配置存储在 /etc/httpd/conf.d/ 目录。

三、安装 PHP

输入如下指令安装 PHP:
```
[root@zkyml ~]# yum -y install php
```
需要重新启动 Apache 服务：
```
[root@zkyml ~]# /etc/init.d/httpd restart
```
等价于 `service httpd restart`

四、测试 PHP 相关信息

这步实际上可以省略，但是为了测试是否安装成功，你可以新建一个 PHP 页面进行测试，使用 vim 编辑器新建：
```
[root@zkyml ~]# vi /var/www/html/test.php
按 “i” 键进行编辑，输入：
```php
<?php

phpinfo();

?>
```
编辑完毕，按 “ESC” 键退出编辑模式，接着输入：

:wq

然后回车，即保存并退出。
```
此时你可以访问你的站点地址，例如 “https://www.zkyml.com/php/msg.php”，查看是否能看到相关的 PHP 信息。

五、将 PHP 模块和 MySQL 模块关联起来

还需要将 PHP 和 MySQL 关联起来，才能正常工作。

搜索模块：
```
[root@zkyml ~]# yum search php
```
安装相关模块：
```
[root@zkyml ~]# yum install php-mysql php-gd php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc
```
需要重启 Apache 模块才能生效：
```
[root@zkyml ~]# /etc/init.d/httpd restart
```
